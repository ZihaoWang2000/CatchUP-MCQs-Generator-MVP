{"remainingRequest":"/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/node_modules/babel-loader/lib/index.js!/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/src/components/content/FileUpload.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/src/components/content/FileUpload.vue","mtime":1701944490524},{"path":"/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1700482626121},{"path":"/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/node_modules/babel-loader/lib/index.js","mtime":1700482625960},{"path":"/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1700482626121},{"path":"/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1700482623970}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lbGxpb3R0L0RvY3VtZW50cy9FUEZMLzIwMjMgYXV0dW1uL0RpZ2l0YWwgQnVzaW5lc3MvQ2F0Y2hVUC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUZpbGVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmaWxlSW5wdXQsIHNlbGVjdGVkRmlsZSwgZm9ybURhdGEsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIldhaXQiIH0pOwogICAgICAgICAgICAgICAgZmlsZUlucHV0ID0gX3RoaXMuJHJlZnMuZmlsZUlucHV0OwogICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlID0gZmlsZUlucHV0LmZpbGVzWzBdOwoKICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWRGaWxlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogIldhaXQiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvY2xlYXJEYXRhIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIHNlbGVjdGVkRmlsZSk7IC8vIE1ha2UgYSBQT1NUIHJlcXVlc3QgdXNpbmcgQXhpb3MKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL3VwbG9hZCIsIGZvcm1EYXRhLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuaWh+S7tuS4iuS8oOaIkOWKnzoiLCByZXNwb25zZS5kYXRhKTsgLy8gQ2xlYXIgdGhlIGZpbGUgaW5wdXQgdG8gYWxsb3cgc2VsZWN0aW5nIHRoZSBzYW1lIGZpbGUgYWdhaW4KCiAgICAgICAgICAgICAgICBmaWxlSW5wdXQudmFsdWUgPSAiIjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg2KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybigi6K+36YCJ5oup5paH5Lu2Iik7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzYsIDE2XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/elliott/Documents/EPFL/2023 autumn/Digital Business/CatchUP/frontend/src/components/content/FileUpload.vue"],"names":[],"mappings":";;AAsBA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,OAAO,EAAE;AACD,IAAA,gBADC,8BACkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACvB;AACM,gBAAA,SAFiB,GAEL,KAAI,CAAC,KAAL,CAAW,SAFN;AAGjB,gBAAA,YAHiB,GAGF,SAAS,CAAC,KAAV,CAAgB,CAAhB,CAHE;;AAAA,qBAKnB,YALmB;AAAA;AAAA;AAAA;;AAMrB,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAlB;;AANqB;AAAA,uBAOf,KAAK,CAAC,IAAN,CAAW,iCAAX,CAPe;;AAAA;AAAA;AASf,gBAAA,QATe,GASJ,IAAI,QAAJ,EATI;AAUnB,gBAAA,QAAQ,CAAC,MAAT,CAAgB,MAAhB,EAAwB,YAAxB,EAVmB,CAYnB;;AAZmB;AAAA,uBAaI,KAAK,CAAC,IAAN,CACrB,8BADqB,EAErB,QAFqB,EAGrB;AACE,kBAAA,OAAO,EAAE;AACP,oCAAgB;AADT;AADX,iBAHqB,CAbJ;;AAAA;AAab,gBAAA,QAba;AAuBnB,gBAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,QAAQ,CAAC,IAAhC,EAvBmB,CAyBnB;;AACA,gBAAA,SAAS,CAAC,KAAV,GAAkB,EAAlB;AA1BmB;AAAA;;AAAA;AAAA;AAAA;AA4BnB,gBAAA,OAAO,CAAC,KAAR,CAAc,YAAM,QAAN,CAAe,IAA7B;;AA5BmB;AAAA;AAAA;;AAAA;AA+BrB,gBAAA,OAAO,CAAC,IAAR,CAAa,OAAb;;AA/BqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCxB;AAlCM;AADI,CAAf","sourcesContent":["<template>\n  <div class=\"button-area\">\n    <label for=\"fileInput\" class=\"button\">\n      <i\n        class=\"fa fa-plus\"\n        aria-hidden=\"true\"\n        style=\"font-size: 15px; position: relative; right: 150px\"\n      ></i>\n      Upload File\n    </label>\n    <input\n      type=\"file\"\n      id=\"fileInput\"\n      ref=\"fileInput\"\n      style=\"display: none\"\n      accept=\".pdf\"\n      @change=\"handleFileUpload\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  methods: {\n    async handleFileUpload() {\n      // this.$router.push({ name: \"Wait\" });\n      const fileInput = this.$refs.fileInput;\n      const selectedFile = fileInput.files[0];\n\n      if (selectedFile) {\n        this.$router.push({ name: \"Wait\" });\n        await axios.post(\"http://localhost:3000/clearData\");\n        try {\n          let formData = new FormData();\n          formData.append(\"file\", selectedFile);\n\n          // Make a POST request using Axios\n          const response = await axios.post(\n            \"http://localhost:3000/upload\",\n            formData,\n            {\n              headers: {\n                \"Content-Type\": \"multipart/form-data\",\n              },\n            }\n          );\n\n          console.log(\"文件上传成功:\", response.data);\n\n          // Clear the file input to allow selecting the same file again\n          fileInput.value = \"\";\n        } catch (error) {\n          console.error(error.response.data);\n        }\n      } else {\n        console.warn(\"请选择文件\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  font-weight: bold;\n  width: 500px;\n  height: 70px;\n  border-radius: 100px;\n  background-color: #f7722f;\n  color: white;\n  border: 2px solid;\n  cursor: pointer;\n}\n\n.button:hover {\n  background-color: red;\n}\n</style>\n"],"sourceRoot":""}]}